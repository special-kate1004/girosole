<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us - Girosole</title>
    <link rel="icon" type="image/x-icon" href="../assets/logo/favicon.png" />
    <link rel="stylesheet" href="./assets/css/styles.css" />
    <link rel="stylesheet" href="./assets/css/contact-us.css" />
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
  </head>
  <body>
    <div id="navbar"></div>

    <!-- Hero Section -->
    <section class="hero contactus-hero"></section>

    <!-- Contact Section -->
    <section class="contact-section">
      <div class="contact-container">
        <!-- Left Side - Contact Form -->
        <div class="contact-form">
          <h1>Contact</h1>
          <p class="form-intro">
            For more information about our tours and services, please use the
            form below. You'll also find our full contact information to the
            right.
          </p>

          <div class="form-wrapper">
            <h2>Contact Us <span class="required"> (* required)</span></h2>
            <form
              id="contactForm"
              action="https://formsubmit.co/pokydkomylana@gmail.com"
              method="POST"
              novalidate
            >
              <!-- FormSubmit Configuration -->
              <input
                type="hidden"
                name="_subject"
                value="New contact submission"
              />
              <input type="hidden" name="_captcha" value="true" />
              <input type="hidden" name="_template" value="table" />
              <input
                type="hidden"
                name="_next"
                value="https://girosole.com/contact-us"
              />
              <input type="hidden" name="_cc" value="kate@voolt.com" />
              <input type="hidden" name="_cc" value="tours@girosole.com" />

              <div class="form-group">
                <input type="text" name="name" placeholder="* Name" required />
                <div class="error-message">The field is required.</div>
              </div>
              <div class="form-group">
                <input
                  type="email"
                  name="email"
                  placeholder="* Email"
                  required
                />
                <div class="error-message">The field is required.</div>
              </div>
              <div class="form-group">
                <input type="tel" name="phone" placeholder="Phone number" />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  name="location"
                  placeholder="Location or time zone"
                />
              </div>

              <div class="call-preference">
                <p>Would you like us to call you?</p>
                <div class="radio-group">
                  <label>
                    <input
                      type="radio"
                      name="call_preference"
                      value="no"
                      checked
                    />
                    No thanks. Email is fine for now.
                  </label>
                  <label>
                    <input type="radio" name="call_preference" value="yes" />
                    Yes please do call.
                  </label>
                </div>
              </div>

              <div class="form-group">
                <input
                  type="text"
                  name="best_time_to_call"
                  placeholder="If 'yes', best time to call"
                />
              </div>

              <div class="form-group">
                <textarea
                  name="message"
                  placeholder="Message"
                  cols="40"
                  rows="10"
                ></textarea>
              </div>

              <div
                class="g-recaptcha"
                data-sitekey="6LfBE58rAAAAAAFF6DnUVDxb4M4PmW9FGJMUoiTm"
              ></div>
              <p id="captchaError" style="color: red; display: none; margin-top: 5px;"></p>

              <button type="submit" class="send-btn">SEND</button>
            </form>
          </div>
        </div>

        <!-- Right Side - Contact Information -->
        <div class="contact-info">
          <div class="offices-box">
            <h3>OFFICES</h3>

            <div class="info-section">
              <h4>Contact Information</h4>
              <p class="tel">
                <strong>Tel:</strong>
                <a href="tel:+17209899732">[+1] 720 989 9732</a> (Denver, CO
                office)
              </p>
              <p class="email">
                <strong>Email:</strong>
                <a href="mailto:tours@girosole.com">tours "at" girosole.com</a>
              </p>
            </div>

            <div class="info-section">
              <h4>USA – Sales Office</h4>
              <p>1745 Winegard St.</p>
              <p>Denver, CO 80220</p>
              <p>Tel: 720 989 9732</p>
            </div>

            <div class="info-section last-info-section">
              <h4>ITALY – Tour Operations</h4>
              <p>(no sales inquiries please)</p>
              <p>Via Udine 10</p>
              <p>53021 Abbadia San Salvatore (SI)</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div id="footer"></div>

    <script src="./assets/js/loadComponent.js"></script>
    <script>
      // Real-time validation for required fields
      document.querySelectorAll("[required]").forEach((field) => {
        field.addEventListener("input", function () {
          if (this.value.trim()) {
            this.nextElementSibling.style.display = "none";
          }
        });
      });

      document
        .getElementById("contactForm")
        .addEventListener("submit", function (e) {
          // Reset all error messages
          document.querySelectorAll(".error-message").forEach((error) => {
            error.style.display = "none";
          });

          // Get required fields
          const requiredFields = this.querySelectorAll("[required]");
          let isValid = true;

          requiredFields.forEach((field) => {
            if (!field.value.trim()) {
              e.preventDefault(); // Only prevent if validation fails
              isValid = false;
              field.nextElementSibling.style.display = "block";
            }
          });

          // Check reCAPTCHA
          const recaptchaResponse = grecaptcha.getResponse();
          const errorElement = document.getElementById("captchaError");

          if (!recaptchaResponse) {
            e.preventDefault(); // Prevent submit
            errorElement.textContent = "Please complete the reCAPTCHA"; // Show error text
            errorElement.style.display = "block";
            return;
          } else {
            errorElement.style.display = "none"; // Hide error if solved
          }

          // If everything is valid, let the form submit naturally to formsubmit.co
          if (isValid) {
            return true;
          }
        });
    </script>
  </body>
</html>
